/* BUGFIX: we cannot have multiple counter-resets on the code. So this command was moved to
           src/static/custom/pad.css with the other counter-resets, so we ensure all counters
           are correctly created and reset.
body{
  counter-reset: scene;
}
*/

/* WARNING there are other styles for script elements dynamically set on fixSmallZooms.js */
heading{
  display:block;
  text-transform: uppercase;
}
heading:before {
  float: left;
  text-align: left;
  display: block;
  width: 40px;
  margin-left: -64px; /*aligned with scene mark vertical bottom border*/

  /*make the number below the act/seq icon*/
  position: relative;
  z-index: 0;
}
/* [perf] do not build scene number while on paste */
#innerdocbody:not(.pasting) heading:before {
  /* scene numbering: */
  counter-increment: scene;
  content: counter(scene) " ";
}

action{
  display:block;
}

character{
  display:block;
  text-transform: uppercase;
}

/* avoid displaying empty parenthetical split in two lines */
parenthetical br{
  content: "";
}
parenthetical{
  display:block;
}
/* [perf] do not build parenthesis while on paste */
#innerdocbody:not(.pasting) parenthetical:before {
  content: '(';
  margin-left: -6px;
}
#innerdocbody:not(.pasting) parenthetical:after {
  content: ')';
  margin-right: -6px;
}

dialogue{
  display:block;
}

transition{
  display:block;
  text-align: right;
  text-transform: uppercase;
}

shot{
  display:block;
  text-transform: uppercase;
}

/*hack to force display the element without losing the default font when it is pasted with ctrl+shift+v */
heading, action, character, parenthetical, dialogue, transition, shot{
  font-family: monospace;
}

/* If available width is not even enough to have the regular 61
   chars/line, we make the margins proportional to available width: */
@media (max-width : 463px) { /* based on value form ep_script_page_view */
  character{
    margin-left: 35%;
    margin-right: 4%;
  }

  parenthetical{
    margin-left: 26%;
    margin-right: 35%;
  }

  dialogue{
    margin-left: 17%;
    margin-right: 26%;
  }

  transition{
    margin-left: 64%;
    margin-right: 9%;
  }
}

/*this CSS was taken from fixSmallZoom.js*/

/* Dimensions of script elements*/
@media (min-width : 464px) {
  #innerdocbody:not(.pasting) action {
    margin-top: 16px;
  }

  #innerdocbody:not(.pasting) character {
    margin-left: 152px;
    margin-right: 16px;
    margin-top: 16px;
  }

  #innerdocbody:not(.pasting) parenthetical {
    margin-left: 105px;
    margin-right: 154px;
  }

  #innerdocbody:not(.pasting) dialogue {
    margin-left: 77px;
    margin-right: 111px;
  }

  #innerdocbody:not(.pasting) transition {
    margin-left: 290px;
    margin-right: 36px;
    margin-top: 16px;
  }

  #innerdocbody:not(.pasting) shot {
    margin-top: 32px;
  }
}

/* When these elements are the first ones of script they have no margin-top */
#innerdocbody:not(.pasting) > div:first-of-type episode_name,
#innerdocbody:not(.pasting) > div:first-of-type act_name,
#innerdocbody:not(.pasting) > div:first-of-type sequence_name,
#innerdocbody:not(.pasting) > div:first-of-type action,
#innerdocbody:not(.pasting) > div:first-of-type character,
#innerdocbody:not(.pasting) > div:first-of-type transition,
#innerdocbody:not(.pasting) > div:first-of-type shot {
  margin-top: 0px;
}

